var hsNode=function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(r,i,function(t){return e[t]}.bind(null,i));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=7)}([function(e,t,n){"use strict";(function(e){var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(i,o){function s(e){try{c(r.next(e))}catch(e){o(e)}}function u(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){e.done?i(e.value):new n(function(t){t(e.value)}).then(s,u)}c((r=r.apply(e,t||[])).next())})};Object.defineProperty(t,"__esModule",{value:!0});const i=n(9),o=n(2),s=n(3);function u(e){return r(this,void 0,void 0,function*(){const t=yield l(e);return yield new Promise((n,r)=>{i.stat(t,(t,i)=>{t?(console.log(`error getting stats for ${e}: ${t}`),r(t)):n(i)})})})}function c(e){const t=`*** error in fsUtil: ${e}, stack:\n${e.stack}`;throw new Error(t)}function l(e){return new Promise((t,n)=>{i.realpath(e,(e,r)=>e?n(e):t(r))}).catch(c)}function a(e){return r(this,void 0,void 0,function*(){try{return(yield u(e)).isDirectory()}catch(e){return!1}})}function d(t){const n=o.normalize(o.resolve(e.cwd(),t));if(0===n.indexOf(e.cwd())){let t=n.substr(e.cwd().length+1).split("/");const r=(t=t.map((e,n)=>"./"+t.slice(0,n+1).join("/"))).map(e=>()=>a(e).then(t=>new Promise((n,r)=>{t?n(!0):i.mkdir(e,e=>{e?e.toString().match(/Error: EEXIST: file already exists/)?n(!0):r(e):n(!0)})})));return s.promiseChain(r).then(e=>(e.map((e,n)=>{if(e)return!0;throw`mkdir failed for ${t[n]}: ${e}`}),t[t.length-1]))}return Promise.reject(`target '${n}' not inside working directory '${e.cwd()}'`)}function f(e,t=!0){return new Promise((n,r)=>{let o=t?"utf8":{};i.readFile(e,o,(e,t)=>e?r(e):n(t))}).catch(c)}function h(e,t,n=!0){return r(this,void 0,void 0,function*(){var r=n?"utf8":{encoding:null};return yield d(o.dirname(e)),yield new Promise((n,o)=>{i.writeFile(e,t,r,t=>t?o(`mkdirs failed in writeFile for '${e}': ${t}`):n(e))})})}function p(e,t){return r(this,void 0,void 0,function*(){return yield h(e,t,!0).catch(c)})}t.realPath=l,t.pathExists=function(e){return r(this,void 0,void 0,function*(){try{return yield u(e),!0}catch(e){return!1}})},t.isFile=function(e){return r(this,void 0,void 0,function*(){try{return(yield u(e)).isFile()}catch(e){return!1}})},t.isDirectory=a,t.isLink=function(e){return r(this,void 0,void 0,function*(){try{return(yield function(e){return r(this,void 0,void 0,function*(){const t=o.normalize(e);return new Promise((e,n)=>i.lstat(t,(t,r)=>t?n(t):e(r)))})}(e)).isSymbolicLink()}catch(e){return!1}})},t.mkdirs=d,t.readDir=function(e){return r(this,void 0,void 0,function*(){const t=yield l(e);return yield new Promise((e,n)=>{i.readdir(t,(r,i)=>{r?n(r):(i.path=t,e(i))})}).catch(c)})},t.readFile=f,t.readTextFile=function(e){return r(this,void 0,void 0,function*(){try{return yield f(e,!0)}catch(e){c(e)}})},t.readJsonFile=function(e){return r(this,void 0,void 0,function*(){try{const t=yield f(e,!0);return"string"==typeof t?JSON.parse(t):t}catch(e){c(e)}})},t.writeFile=h,t.writeStream=function(e,t){return r(this,void 0,void 0,function*(){return yield new Promise((n,r)=>{const o=i.createWriteStream(e,{flags:"w",mode:438});o.on("error",t=>r(`writeStream error '${t}' for path '${e}'`)),o.write(t,"binary",()=>n(e)),o.end()})})},t.writeTextFile=p,t.writeJsonFile=function(e,t){return r(this,void 0,void 0,function*(){return yield Promise.resolve(t).then(JSON.stringify).then(t=>r(this,void 0,void 0,function*(){return yield p(e,t)})).catch(c)})},t.appendFile=function(e,t,n=!0){return r(this,void 0,void 0,function*(){return yield new Promise((r,o)=>{var s=n?"utf8":{encoding:null};i.appendFile(e,t,s,t=>t?o(t):r(e))}).then(l).catch(c)})},t.remove=function(e){return r(this,void 0,void 0,function*(){const t=yield a(e);return yield new Promise((n,r)=>{t?i.rmdir(e,t=>t?r(t):n(e)):i.unlink(e,t=>t?r(t):n(e))})})}}).call(this,n(8))},function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(i,o){function s(e){try{c(r.next(e))}catch(e){o(e)}}function u(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){e.done?i(e.value):new n(function(t){t(e.value)}).then(s,u)}c((r=r.apply(e,t||[])).next())})};function i(e){return t=>new Promise(n=>{setTimeout(()=>{n(t)},e)})}Object.defineProperty(t,"__esModule",{value:!0}),t.timeout=function(e){return new Promise((t,n)=>{setTimeout(n,e)})},t.delay=i,t.Pace=class{constructor(e=100,t=-1){this.maxConcurrent=-1,this.waitUntil=0,this.waitCount=0,this.beingCalled=0,this.pace=e+5,this.maxConcurrent=t}getWaitCount(){return this.waitCount}getCallingCount(){return this.beingCalled}add(e){return r(this,void 0,void 0,function*(){const t=Date.now();this.waitUntil<t&&(this.waitUntil=t);const n=this.waitUntil-t;this.waitUntil+=this.pace+5,this.waitCount++,yield i(n)(),yield new Promise(e=>{const t=()=>{this.maxConcurrent<0||this.beingCalled<this.maxConcurrent?e():setTimeout(t,10)};t()}),this.waitCount--,this.beingCalled++;const r=yield e(Date.now()-t);return this.beingCalled--,r})}},t.promiseChain=function(e,t=[]){return e.reduce((e,t)=>e.then(e=>Promise.resolve(t(e)).then(t=>(e.push(t),e))),Promise.resolve(t))}},function(e,t){e.exports=path},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(1);t.timeout=r.timeout,t.delay=r.delay;var i=n(1);t.Pace=i.Pace;var o=n(1);t.promiseChain=o.promiseChain;var s=n(10);t.shortCheckSum=s.shortCheckSum;var u=n(4);t.date=u.date,t.ms=u.ms;var c=n(11);t.round=c.round;var l=n(12);t.log=l.log},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=[["Jan","January"],["Feb","February"],["Mar","March"],["Apr","April"],["May","May"],["Jun","June"],["Jul","July"],["Aug","August"],["Sep","September"],["Oct","October"],["Nov","November"],["Dec","December"]],i=[["Sun","Sunday"],["Mon","Monday"],["Tue","Tuesday"],["Wed","Wednesday"],["Thu","Thursday"],["Fri","Friday"],["Sat","Saturday"]];function o(e,t){for(var n=""+e;n.length<t;)n="0"+n;return n}t.date=function(e,t=new Date){return"string"!=typeof e||isNaN(t.getTime())?"invalid":e.replace(/%YYYY/g,""+t.getFullYear()).replace(/%YY/g,""+t.getFullYear()%100).replace(/%MMMM/g,r[t.getMonth()][1]).replace(/%MMM/g,r[t.getMonth()][0]).replace(/%MM/g,o(t.getMonth()+1,2)).replace(/%M/g,""+(t.getMonth()+1)).replace(/%DDDD/g,i[t.getDay()][1]).replace(/%DDD/g,i[t.getDay()][0]).replace(/%DD/g,o(t.getDate(),2)).replace(/%D/g,""+t.getDate()).replace(/%hh/g,o(t.getHours(),2)).replace(/%h/g,""+t.getHours()).replace(/%mm/g,o(t.getMinutes(),2)).replace(/%m/g,""+t.getMinutes()).replace(/%ss/g,o(t.getSeconds(),2)).replace(/%jjj/g,o(t.getMilliseconds(),3)).replace(/%jj/g,o(t.getMilliseconds()/10,2)).replace(/%j/g,o(t.getMilliseconds()/100,1))},t.ms={fromMinutes:e=>6e4*e,fromHours:e=>36e5*e,fromDays:e=>864e5*e,fromWeeks:e=>6048e5*e,toMinutes:e=>e/6e4,toHours:e=>e/36e5,toDays:e=>e/864e5,toWeeks:e=>e/6048e5}},function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(i,o){function s(e){try{c(r.next(e))}catch(e){o(e)}}function u(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){e.done?i(e.value):new n(function(t){t(e.value)}).then(s,u)}c((r=r.apply(e,t||[])).next())})};Object.defineProperty(t,"__esModule",{value:!0});const i=n(3),o=n(2),s=n(0),u=n(0);t.log=i.log("",function(e,t){return r(this,void 0,void 0,function*(){return yield u.appendFile(e,t+"\n")})},function(e){return r(this,void 0,void 0,function*(){const t=o.dirname(o.normalize(e));return yield s.pathExists(t)})}),t.log.config({colors:!0})},function(e,t){e.exports=http},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(0),i=n(13);t.node={fs:r,child_process:i.child_process};var o=n(5);t.log=o.log;const s=n(15);t.http=s},function(e,t){var n,r,i=e.exports={};function o(){throw new Error("setTimeout has not been defined")}function s(){throw new Error("clearTimeout has not been defined")}function u(e){if(n===setTimeout)return setTimeout(e,0);if((n===o||!n)&&setTimeout)return n=setTimeout,setTimeout(e,0);try{return n(e,0)}catch(t){try{return n.call(null,e,0)}catch(t){return n.call(this,e,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:o}catch(e){n=o}try{r="function"==typeof clearTimeout?clearTimeout:s}catch(e){r=s}}();var c,l=[],a=!1,d=-1;function f(){a&&c&&(a=!1,c.length?l=c.concat(l):d=-1,l.length&&h())}function h(){if(!a){var e=u(f);a=!0;for(var t=l.length;t;){for(c=l,l=[];++d<t;)c&&c[d].run();d=-1,t=l.length}c=null,a=!1,function(e){if(r===clearTimeout)return clearTimeout(e);if((r===s||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(e);try{r(e)}catch(t){try{return r.call(null,e)}catch(t){return r.call(this,e)}}}(e)}}function p(e,t){this.fun=e,this.array=t}function m(){}i.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];l.push(new p(e,t)),1!==l.length||a||u(h)},p.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=m,i.addListener=m,i.once=m,i.off=m,i.removeListener=m,i.removeAllListeners=m,i.emit=m,i.prependListener=m,i.prependOnceListener=m,i.listeners=function(e){return[]},i.binding=function(e){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(e){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},function(e,t){e.exports=fs},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.shortCheckSum=function(e){for(var t=305419896,n=e.length,r=0;r<n;r++)t+=e.charCodeAt(r)*(r+1);return(4294967295&t).toString(16)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.round=function(e,t=0){const n=Math.pow(10,t);return""+Math.round(e*n)/n}},function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(i,o){function s(e){try{c(r.next(e))}catch(e){o(e)}}function u(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){e.done?i(e.value):new n(function(t){t(e.value)}).then(s,u)}c((r=r.apply(e,t||[])).next())})};Object.defineProperty(t,"__esModule",{value:!0});const i=n(4),o=Symbol("DEBUG"),s=Symbol("INFO"),u=Symbol("WARN"),c=Symbol("ERROR");let l;const a={[o]:{importance:0,sym:o,desc:"DEBUG"},[s]:{importance:1,sym:s,desc:"INFO"},[u]:{importance:2,sym:u,desc:"WARN"},[c]:{importance:3,sym:c,desc:"ERROR"}};let d=a[s];const f="%YYYY%MM%DD %hh:%mm:%ss.%jjj";let h=f,p=!1;const m={red:"[31m",yellow:"[33m",blue:"[36m",green:"[32m",bold:"[1m",clear:"[0m"};t.log=function e(t,n,g){const v={level:void 0,prefix:t,logToFile:n,pathExists:g};function y(e,t=!1){let n=a[e]||d,r=v.level||d;if(void 0===e)n=r;else if(null===e)v.level=void 0;else if(a[e]){t?d=n:v.level=n;const e=`new ${t?"global":v.prefix} log level ${n.desc.toUpperCase()} (was ${r.desc.toUpperCase()})`;M(n.sym===r.sym?o:s,e)}else M(c,`unkown level ${e.toString()}; log level remains ${r.sym.toString()}`);return n.sym}function w(e,t=!0){return r(this,void 0,void 0,function*(){return yield M(s,e,t)})}function b(e,t=!0){return r(this,void 0,void 0,function*(){return yield M(u,e,t)})}function $(e,t=!0){return r(this,void 0,void 0,function*(){return yield M(c,e,t)})}function x(e){return null===e?h=f:e&&(h=e),h}function M(e,t,n=!0){return r(this,void 0,void 0,function*(){const r={[c]:m.red+m.bold,[u]:m.yellow+m.bold,[o]:m.blue,[s]:m.green};let f=a[e];const g=v.level||d;if(f.importance>=g.importance){const o=i.date(h);let s="string"==typeof t?t:P(t,0);const u=`${o} ${v.prefix} ${f.desc} ${s}`,c=`${r[e]||""} ${o} ${v.prefix} ${f.desc} ${m.clear} ${s}`;if(console.log(p?c:u),t&&t.stack&&console.log(t.stack),l&&n)return yield v.logToFile(i.date(l),u)}})}function P(e,t=1,n=""){return null===t&&(t=999),null===e?"null":void 0===e?"undefined":"function"==typeof e?"function":"string"==typeof e?`'${e}'`:"object"==typeof e?t<0?void 0===e.length?"{...}":"[...]":void 0!==e.length?`[${e.map(e=>void 0===e?"":P(e,t-1,n)).join(", ")}]`:"{\n"+Object.keys(e).map(r=>`   ${n}${r}: ${P(e[r],t-1,n+"   ")}`).join(",\n")+`\n${n}}`:e.toString()}const O=function(t,n=v.logToFile,r=v.pathExists){return e(t,n,r)};return O.DEBUG=o,O.INFO=s,O.WARN=u,O.ERROR=c,O.level=y,O.debug=function(e,t=!0){return r(this,void 0,void 0,function*(){return yield M(o,e,t)})},O.info=w,O.warn=b,O.error=$,O.format=x,O.prefix=function(e){return e&&(v.prefix=e),v.prefix},O.out=M,O.logFile=function(e){return r(this,void 0,void 0,function*(){return null===e?(l=void 0,yield w("disabling logfile")):void 0===e?i.date(l):e.indexOf("/")>=0?yield v.pathExists(e).then(t=>r(this,void 0,void 0,function*(){return t?(l=e,yield w("now logging to file "+i.date(e))):(l=void 0,yield b(`path '${e}' doesn't exists; logfile disabled`))})).catch(()=>r(this,void 0,void 0,function*(){return l=void 0,yield $(`checking path ${e}; logfile disabled`)})):(""===e&&(e="log-%YYYY-%MM-%DD.txt"),yield w((l=e)?`now logging to file ${i.date(l)}`:"logfile disbaled"))})},O.config=function(e){void 0!==e.colors&&(p=e.colors),void 0!==e.format&&x(e.format),void 0!==e.level&&y(e.level)},O.inspect=P,O}("",(e,t)=>Promise.resolve(void 0),e=>Promise.resolve(!(e.indexOf("/")>=0)))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(14);t.child_process={exec:(e,t)=>new Promise((n,i)=>r.exec(e,t,(e,t,r)=>{e?i(e):n({stdout:t,stderr:r})}))}},function(e,t){e.exports=child_process},function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(i,o){function s(e){try{c(r.next(e))}catch(e){o(e)}}function u(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){e.done?i(e.value):new n(function(t){t(e.value)}).then(s,u)}c((r=r.apply(e,t||[])).next())})};Object.defineProperty(t,"__esModule",{value:!0});const i=n(16),o=n(5).log("httpUtil"),s=n(0);function u(e,t,n,r){let i={method:r?"POST":"GET",protocol:e.protocol,host:e.host,hostname:e.hostname,port:e.port,pathname:e.pathname,path:e.pathname+(e.search||""),headers:{"User-Agent":"helpful scripts"}};return n&&(i.headers.referer=n),l(i,t,r)}function c(e,t){let n=e.split(/(?=([^"]*"[^"]*")*[^"]*$)\s+/g);return e=n[0].trim(),t[e]={},n.map(n=>{if(n){let r=n.split("=");t[e].attrs=t[e].attrs||{},r.length>1&&(t[e].attrs[r[0].trim()]=r[1].replace(/\"/g,"").trim())}}),e}function l(e,t,r){const i={"http:":n(6),"https:":n(17)};let s=e.headers&&e.headers.Authorization;return o.debug(`requesting ${o.inspect(e,4)}`),new Promise((t,n)=>{let u="";o.debug(`sending request ${s?"with authorization ":""}for ${e.protocol}//${e.host}:${e.port}${e.path}`);const c=i[e.protocol].request(e,e=>{const n=function(t){const n={"text/html":!1,"text/plain":!1,"image/jpeg":!0,"image/png":!0}[e.headers["content-type"]];return void 0!==n&&n}()?"binary":"utf8";o.debug(`receiving...${e.headers["content-type"]} => ${n}`),e.setEncoding(n),e.on("data",e=>{u+=e}),e.on("end",()=>{o.debug(`received ${n}`),t({data:u,response:e})})});c.on("error",e=>n(e)),void 0!==r&&c.write(r),c.end()}).then(n=>t&&n.response.headers["www-authenticate"]?t.testDigestAuth(e,n.data,n.response):n)}t.xml2json=function(e){let t;for(;e.length>0;){let n=e.match(/<.*?>/);if(n&&n.length>0){n=c(n=n[0].substring(1,n[0].length-1),t=t||{});let r=e.indexOf(`<${n}`),i=e.indexOf(`</${n}>`);if(i>0){const o=e.indexOf(">",r);let s=e.substring(o+1,i).trim();t[n]=this.xml2json(s),e=e.substring(i+n.length+3).trim()}else e=e.substring(e.indexOf(">")+1).trim()}else t=e.slice(0),e=""}return t},t.request=u,t.CachedHTTPRequest=class{constructor(e,t){this.cacheLocation=e,this.user=t}requestOnline(e,t){return r(this,void 0,void 0,function*(){const n=yield u(e,this.user);return o.info(`requested ${e}`),yield s.writeTextFile(t,n.data),n.data})}requestOffline(e){return r(this,void 0,void 0,function*(){return o.info(`get cached '${e}'`),yield s.readTextFile(e)})}request(e,t=!0){return r(this,void 0,void 0,function*(){const n=`${this.cacheLocation}${e.host}/${e.pathname}${e.search}`;return(yield s.isFile(n))&&t?yield this.requestOffline(n):yield this.requestOnline(e,n)})}},t.Digest=class{constructor(e,t){this.nc=0,this.username=e,this.password=t}updateNC(){let e=new Array(8).join("0")+"";this.nc=this.nc>99999999?1:this.nc+1;let t=this.nc+"";return e.substr(0,8-t.length)+t}generateCNONCE(e){let t,n;if("string"==typeof e){let e=i.createHash("md5");e.update(Math.random().toString(36)),t=e.digest("hex").substr(0,16),n=this.updateNC()}return{cnonce:t,nc:n}}testDigestAuth(e,t,n){o.info(`received www-authenticate request for ${e.host}`);let r=function(e){const t={};return(e=e.split("Digest ")[1]).split(",").forEach(e=>{const n=e.split("=").map(e=>e.trim());t[n[0]]=n[1].replace(/\"/g,"")}),t}(n.headers["www-authenticate"]),s=i.createHash("md5"),u=`${this.username}:${r.realm}:${this.password}`;s.update(u);let c=i.createHash("md5");u=`${e.method}:${e.path}`,c.update(u);let{nc:a,cnonce:d}=this.generateCNONCE(r.qop),f=i.createHash("md5");u=`${s.digest("hex")}:${r.nonce}:${a}:${d}:${r.qop}:${c.digest("hex")}`,f.update(u);let h={realm:r.realm,username:this.username,uri:e.path,qop:r.qop,nonce:r.nonce,algorithm:"MD5",response:f.digest("hex")};return h=function(e){let t={};return Object.keys(e).forEach(n=>{null!==e[n]&&void 0!==e[n]&&(t[n]=e[n])}),t}(h),d&&(h.nc=a,h.cnonce=d),e.headers.Authorization=function(e){let t=[];for(let n in e)if("function"!=typeof e[n]){let r=n+"="+(["qop","nc"].indexOf(n)<0?`"${e[n]}"`:e[n]);t.push(r)}return"Digest "+t.join(",")}(h),l(e)}}},function(e,t){e.exports=crypto},function(e,t,n){var r=n(6),i=n(18),o=e.exports;for(var s in r)r.hasOwnProperty(s)&&(o[s]=r[s]);function u(e){if("string"==typeof e&&(e=i.parse(e)),e.protocol||(e.protocol="https:"),"https:"!==e.protocol)throw new Error('Protocol "'+e.protocol+'" not supported. Expected "https:"');return e}o.request=function(e,t){return e=u(e),r.request.call(this,e,t)},o.get=function(e,t){return e=u(e),r.get.call(this,e,t)}},function(e,t){e.exports=url}]);